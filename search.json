[{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"concurrent-task-limit","dir":"","previous_headings":"","what":"CONCURRENT TASK LIMIT","title":"Claude Code Instructions","text":"Maximum 5 background tasks running simultaneously launching multiple agents (e.g., mass audits), batch groups 5 Wait current batch complete launching next batch","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pyncschooldata && pytest tests/test_pyncschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pyncschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"feature-branch--pr--auto-merge-policy","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Feature Branch + PR + Auto-Merge Policy","title":"Claude Code Instructions","text":"NEVER push directly main. changes must go PRs auto-merge:","code":"# 1. Create feature branch git checkout -b fix/description-of-change  # 2. Make changes, commit git add -A git commit -m \"Fix: description of change\"  # 3. Push and create PR with auto-merge git push -u origin fix/description-of-change gh pr create --title \"Fix: description\" --body \"Description of changes\" gh pr merge --auto --squash  # 4. Clean up stale branches after PR merges git checkout main && git pull && git fetch --prune origin"},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"branch-cleanup-required","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Branch Cleanup (REQUIRED)","title":"Claude Code Instructions","text":"Clean stale branches every time touch package:","code":"# Delete local branches merged to main git branch --merged main | grep -v main | xargs -r git branch -d  # Prune remote tracking branches git fetch --prune origin"},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"auto-merge-requirements","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Auto-Merge Requirements","title":"Claude Code Instructions","text":"PRs auto-merge CI checks pass: - R-CMD-check (0 errors, 0 warnings) - Python tests (py{st}schooldata exists) - pkgdown build (vignettes must render) CI fails, fix issue push - auto-merge triggers checks pass.","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"readme-and-vignette-code-matching-required","dir":"","previous_headings":"","what":"README and Vignette Code Matching (REQUIRED)","title":"Claude Code Instructions","text":"CRITICAL RULE (2026-01-08): code blocks README MUST match code vignette EXACTLY (1:1 correspondence).","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"why-this-matters","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Why This Matters","title":"Claude Code Instructions","text":"Idaho fix revealed critical bugs README code didn’t match vignettes: - Wrong district names (lowercase vs CAPS) - Text claims contradicted actual data - Missing data output examples","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"readme-story-structure-required","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"README Story Structure (REQUIRED)","title":"Claude Code Instructions","text":"Every story/section README MUST follow structure: Claim: factual statement data Explication: Brief explanation matters Code: R code fetches analyzes data (MUST exist vignette) Code Output: Data table/print statement showing actual values (REQUIRED) Visualization: Chart vignette (auto-generated pkgdown)","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"enforcement","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Enforcement","title":"Claude Code Instructions","text":"state-deploy skill verifies deployment: - Extracts README code blocks - Searches vignettes EXACT matches - Fails deployment code found vignettes - Randomly audits packages claim accuracy","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"what-this-prevents","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"What This Prevents","title":"Claude Code Instructions","text":"❌ Wrong district/entity names (case sensitivity, typos) ❌ Text claims contradict data ❌ Broken code fails silently ❌ Missing data output ✅ Verified, accurate, reproducible examples","code":""},{"path":"https://almartin82.github.io/ncschooldata/CLAUDE.html","id":"example","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Example","title":"Claude Code Instructions","text":"```","code":"### 1. State enrollment grew 28% since 2002  State added 68,000 students from 2002 to 2026, bucking national trends.  ```r library(arschooldata) library(dplyr)  enr <- fetch_enr_multi(2002:2026)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   filter(end_year %in% c(2002, 2026)) %>%   mutate(change = n_students - lag(n_students),          pct_change = round((n_students / lag(n_students) - 1) * 100, 1)) # Prints: 2002=XXX, 2026=YYY, change=ZZZ, pct=PP.P% ---  ## README and Vignette Code Matching (REQUIRED)  **CRITICAL RULE (as of 2026-01-08):** ALL code blocks in the README MUST match code in a vignette EXACTLY (1:1 correspondence).  ### Why This Matters  The Idaho fix revealed critical bugs when README code didn't match vignettes: - Wrong district names (lowercase vs ALL CAPS) - Text claims that contradicted actual data - Missing data output in examples  ### README Story Structure (REQUIRED)  Every story/section in the README MUST follow this structure:  1. **Claim**: A factual statement about the data 2. **Explication**: Brief explanation of why this matters 3. **Code**: R code that fetches and analyzes the data (MUST exist in a vignette) 4. **Code Output**: Data table/print statement showing actual values (REQUIRED) 5. **Visualization**: Chart from vignette (auto-generated from pkgdown)  ### Enforcement  The `state-deploy` skill verifies this before deployment: - Extracts all README code blocks - Searches vignettes for EXACT matches - Fails deployment if code not found in vignettes - Randomly audits packages for claim accuracy  ### What This Prevents  - ❌ Wrong district/entity names (case sensitivity, typos) - ❌ Text claims that contradict data - ❌ Broken code that fails silently - ❌ Missing data output - ✅ Verified, accurate, reproducible examples  ### Example  ```markdown ### 1. State enrollment grew 28% since 2002  State added 68,000 students from 2002 to 2026, bucking national trends.  ```r library(idschooldata) library(dplyr)  enr <- fetch_enr_multi(2002:2026)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   filter(end_year %in% c(2002, 2026)) %>%   mutate(change = n_students - lag(n_students),          pct_change = round((n_students / lag(n_students) - 1) * 100, 1)) # Prints: 2002=XXX, 2026=YYY, change=ZZZ, pct=PP.P%"},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":null,"dir":"","previous_headings":"","what":"North Carolina School Data Expansion Research","title":"North Carolina School Data Expansion Research","text":"Last Updated: 2026-01-04 Theme Researched: Graduation (Cohort Graduation Rates)","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"executive-summary","dir":"","previous_headings":"","what":"Executive Summary","title":"North Carolina School Data Expansion Research","text":"NC DPI provides comprehensive cohort graduation rate data “School Assessment Indicator Data” Excel files. Data available 2020-21 2024-25 (beyond new years released). data includes 4-year 5-year cohort graduation rates state, LEA (district), school levels, breakdowns 21 student subgroups. Recommendation: HIGH priority, MEDIUM complexity. Data well-structured, consistent across years, available via direct HTTP download.","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"source-1-school-assessment-and-other-indicator-data-primary","dir":"","previous_headings":"Data Sources Found","what":"Source 1: School Assessment and Other Indicator Data (PRIMARY)","title":"North Carolina School Data Expansion Research","text":"Description: Annual Excel files containing accountability data including cohort graduation rates. Notes: - 2020-21 uses alternate URL pattern (*-data2 suffix) - Pre-2020 files return 404 - may need search archive - URL pattern fully predictable - must enumerate year Format: Excel (.xlsx) multiple sheets Update Frequency: Annual (released September) Access Method: Direct HTTP download (auth required)","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"source-2-school-report-card-data-set-alternative","dir":"","previous_headings":"Data Sources Found","what":"Source 2: School Report Card Data Set (ALTERNATIVE)","title":"North Carolina School Data Expansion Research","text":"Notes: ZIP file contains comprehensive report card data. May include graduation rates need schema analysis.","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"source-3-tableau-dashboard-not-recommended","dir":"","previous_headings":"Data Sources Found","what":"Source 3: Tableau Dashboard (NOT RECOMMENDED)","title":"North Carolina School Data Expansion Research","text":"URL: https://go.ncdpi.gov/AccountabilityDashboards Redirects : https://public.tableau.com/views/NCDPIAccountabilityLandingPage/ Notes: JavaScript-based, direct API access. suitable programmatic data extraction.","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"sheet-structure-school-assessment-excel-files","dir":"","previous_headings":"Schema Analysis","what":"Sheet Structure (School Assessment Excel Files)","title":"North Carolina School Data Expansion Research","text":"file contains following relevant sheets: - High Sch Ind - Human-readable summary graduation rates - Assess-Ind Data Set - Machine-readable raw data (PRIMARY implementation) - Asses-Ind Data Set Format - Column definitions code tables","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"column-names-assess-ind-data-set","dir":"","previous_headings":"Schema Analysis","what":"Column Names (Assess-Ind Data Set)","title":"North Carolina School Data Expansion Research","text":"Schema Changes Noted:","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"lea-codes","dir":"","previous_headings":"ID System","what":"LEA Codes","title":"North Carolina School Data Expansion Research","text":"Format: 3-character alphanumeric Examples: “010”, “020”, “920” (Wake County) State-level: Uses “NC” Count: ~200+ LEAs (traditional districts + charters)","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"school-codes","dir":"","previous_headings":"ID System","what":"School Codes","title":"North Carolina School Data Expansion Research","text":"Format: 6-character alphanumeric Structure: {LEA_CODE}{SCHOOL_NUM} (3-digit LEA + 3-digit school) Examples: “920358” (Athens Drive High Wake County) LEA-level data: Uses LEA code school_code","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"data-hierarchy","dir":"","previous_headings":"ID System","what":"Data Hierarchy","title":"North Carolina School Data Expansion Research","text":"","code":"State (lea_code = \"NC\", school_code = \"NC\")   |   +-- LEA (lea_code = \"920\", school_code = \"920\")         |         +-- School (lea_code = \"920\", school_code = \"920358\")"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"suppression-rules","dir":"","previous_headings":"Time Series Heuristics","what":"Suppression Rules","title":"North Carolina School Data Expansion Research","text":">95 indicates rate 95% (small denominator suppression) <5 indicates rate 5% (small denominator suppression) handled NA estimated bounds","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"priority-high","dir":"","previous_headings":"Recommended Implementation","what":"Priority: HIGH","title":"North Carolina School Data Expansion Research","text":"Clean, structured data source Consistent annual updates Critical metric education research","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"complexity-medium","dir":"","previous_headings":"Recommended Implementation","what":"Complexity: MEDIUM","title":"North Carolina School Data Expansion Research","text":"Schema variations require year-detection logic Multiple subgroups handle Suppression markers need parsing","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"estimated-files-to-modify","dir":"","previous_headings":"Recommended Implementation","what":"Estimated Files to Modify","title":"North Carolina School Data Expansion Research","text":"R/get_raw_graduation.R - New file data download R/process_graduation.R - New file schema normalization R/tidy_graduation.R - New file long format transformation R/fetch_graduation.R - New file user-facing API DESCRIPTION - new dependencies needed tests/testthat/test-pipeline-graduation-live.R - Live tests","code":""},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"implementation-steps","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Steps","title":"North Carolina School Data Expansion Research","text":"Build URL year (handle inconsistent patterns) Download Excel file temp location Read “Assess-Ind Data Set” sheet appropriate skip Filter CGRS/CGRE subjects Return raw data frame Standardize column names across years Parse suppression markers (“>95” -> NA flag) Convert numeric fields Add end_year column Keep long format (already long) grad_rate_pct total_pct cohort_size den rate_type subject (4yr/5yr) Add is_state, is_lea, is_school flags Parameters: end_year, tidy = TRUE, use_cache = TRUE Support fetch_grad_multi() multiple years","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"raw-data-fidelity-tests-needed","dir":"","previous_headings":"Test Requirements","what":"Raw Data Fidelity Tests Needed","title":"North Carolina School Data Expansion Research","text":"","code":"test_that(\"2024-25: State 4-year rate matches raw Excel\", {   # Raw value from Excel: 87.7%   data <- fetch_grad(2025, tidy = TRUE)   state_rate <- data |>     filter(is_state, subgroup == \"ALL\", rate_type == \"4yr\") |>     pull(grad_rate_pct)   expect_equal(state_rate, 87.7, tolerance = 0.1) })  test_that(\"2024-25: Wake County 4-year rate matches raw Excel\", {   # Raw value from Excel: need to verify   data <- fetch_grad(2025, tidy = TRUE)   wake_rate <- data |>     filter(lea_code == \"920\", school_code == \"920\",            subgroup == \"ALL\", rate_type == \"4yr\") |>     pull(grad_rate_pct)   expect_true(!is.na(wake_rate))   expect_true(wake_rate > 80 & wake_rate < 100) })"},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"data-quality-checks","dir":"","previous_headings":"Test Requirements","what":"Data Quality Checks","title":"North Carolina School Data Expansion Research","text":"","code":"test_that(\"No negative graduation rates\", {   data <- fetch_grad(2025, tidy = TRUE)   expect_true(all(data$grad_rate_pct >= 0 | is.na(data$grad_rate_pct))) })  test_that(\"All rates <= 100%\", {   data <- fetch_grad(2025, tidy = TRUE)   expect_true(all(data$grad_rate_pct <= 100 | is.na(data$grad_rate_pct))) })  test_that(\"All subgroups present at state level\", {   data <- fetch_grad(2025, tidy = TRUE)   state_subgroups <- data |>     filter(is_state, rate_type == \"4yr\") |>     pull(subgroup) |>     unique()   expect_true(length(state_subgroups) >= 20) })  test_that(\"State rate in expected range\", {   data <- fetch_grad(2025, tidy = TRUE)   state_rate <- data |>     filter(is_state, subgroup == \"ALL\", rate_type == \"4yr\") |>     pull(grad_rate_pct)   expect_true(state_rate > 85 & state_rate < 92) })"},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"pipeline-tests","dir":"","previous_headings":"Test Requirements","what":"Pipeline Tests","title":"North Carolina School Data Expansion Research","text":"","code":"test_that(\"URL returns HTTP 200\", {   skip_if_offline()   url <- \"https://www.dpi.nc.gov/2024-25-school-assessment-and-other-indicator-data/open\"   response <- httr::HEAD(url, httr::timeout(30))   expect_equal(httr::status_code(response), 200) })  test_that(\"Downloaded file is valid Excel\", {   skip_if_offline()   temp <- tempfile(fileext = \".xlsx\")   download.file(url, temp, mode = \"wb\", quiet = TRUE)   sheets <- readxl::excel_sheets(temp)   expect_true(\"Assess-Ind Data Set\" %in% sheets)   unlink(temp) })"},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"working-urls-verified-2026-01-04","dir":"","previous_headings":"Data Source URLs Summary","what":"Working URLs (Verified 2026-01-04)","title":"North Carolina School Data Expansion Research","text":"","code":"# URL pattern function (note: not fully predictable!) get_grad_url <- function(end_year) {   urls <- c(     \"2025\" = \"https://www.dpi.nc.gov/2024-25-school-assessment-and-other-indicator-data/open\",     \"2024\" = \"https://www.dpi.nc.gov/2023-24-school-assessment-and-other-indicator-data/open\",     \"2023\" = \"https://www.dpi.nc.gov/2022-23-school-assessment-and-other-indicator-data/open\",     \"2022\" = \"https://www.dpi.nc.gov/2021-22-school-assessment-and-other-indicator-data/open\",     \"2021\" = \"https://www.dpi.nc.gov/2020-21-school-assessment-and-other-indicator-data2/open\"   )   urls[as.character(end_year)] }"},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"schema-detection","dir":"","previous_headings":"Data Source URLs Summary","what":"Schema Detection","title":"North Carolina School Data Expansion Research","text":"","code":"# Detect if file needs skip parameter needs_skip <- function(file_path) {   first_row <- readxl::read_excel(file_path, sheet = \"Assess-Ind Data Set\", n_max = 1)   # If first column is \"Back to Introduction\", need skip = 1   grepl(\"Back to\", names(first_row)[1]) }"},{"path":"https://almartin82.github.io/ncschooldata/EXPANSION.html","id":"references","dir":"","previous_headings":"","what":"References","title":"North Carolina School Data Expansion Research","text":"NC DPI Cohort Graduation Rates Accountability Data Sets Reports Accountability Report Archive 2024-25 Cohort Graduation Rate Manual (PDF)","code":""},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"north-carolina-added-200000-students-since-2006","dir":"Articles","previous_headings":"","what":"1. North Carolina added 200,000 students since 2006","title":"15 Insights from North Carolina School Enrollment Data","text":"One America’s fastest-growing school systems.","code":"enr <- fetch_enr_multi(c(2006, 2010, 2015, 2020, 2024), use_cache = TRUE)  statewide <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)  statewide ggplot(statewide, aes(x = end_year, y = n_students / 1e6)) +   geom_line(color = \"#2171B5\", linewidth = 1.2) +   geom_point(color = \"#2171B5\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3.5) +   scale_y_continuous(     labels = scales::label_number(suffix = \"M\"),     limits = c(1.2, 1.7)   ) +   labs(     title = \"North Carolina Public School Enrollment\",     subtitle = \"+196,000 students (+14%) since 2006\",     x = \"Year\",     y = \"Total Students\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"wake-county-is-now-bigger-than-15-states-entire-school-systems","dir":"Articles","previous_headings":"","what":"2. Wake County is now bigger than 15 states’ entire school systems","title":"15 Insights from North Carolina School Enrollment Data","text":"Research Triangle’s anchor district keeps growing.","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  top_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students)  top_districts top_districts %>%   mutate(district_name = reorder(district_name, n_students)) %>%   ggplot(aes(x = n_students / 1000, y = district_name)) +   geom_col(fill = \"#2171B5\") +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1, size = 3.5) +   scale_x_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.15))   ) +   labs(     title = \"Top 10 North Carolina School Districts by Enrollment (2024)\",     subtitle = \"Wake County: 165,000 students - bigger than Vermont, Wyoming, and Delaware combined\",     x = \"Students (thousands)\",     y = NULL   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"hispanic-enrollment-has-tripled-since-2006","dir":"Articles","previous_headings":"","what":"3. Hispanic enrollment has tripled since 2006","title":"15 Insights from North Carolina School Enrollment Data","text":"North Carolina’s demographic transformation dramatic.","code":"demographics <- enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   select(end_year, subgroup, n_students) %>%   mutate(subgroup = factor(subgroup,     levels = c(\"white\", \"black\", \"hispanic\", \"asian\"),     labels = c(\"White\", \"Black\", \"Hispanic\", \"Asian\")))  demographics ggplot(demographics, aes(x = end_year, y = n_students / 1000, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   scale_color_manual(values = c(     \"White\" = \"#4292C6\",     \"Black\" = \"#807DBA\",     \"Hispanic\" = \"#41AB5D\",     \"Asian\" = \"#EF6548\"   )) +   scale_y_continuous(labels = scales::label_number(suffix = \"K\")) +   labs(     title = \"Demographic Shifts in NC Public Schools\",     subtitle = \"Hispanic students grew from 89,000 to 299,000; White enrollment dropped 150,000\",     x = \"Year\",     y = \"Students (thousands)\",     color = \"Race/Ethnicity\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"charlotte-mecklenburg-lost-15000-students-post-covid","dir":"Articles","previous_headings":"","what":"4. Charlotte-Mecklenburg lost 15,000 students post-COVID","title":"15 Insights from North Carolina School Enrollment Data","text":"Urban flight hit North Carolina’s largest city hard.","code":"enr_cms <- fetch_enr_multi(2019:2024, use_cache = TRUE)  cms_trend <- enr_cms %>%   filter(district_id == \"600\", subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, district_name, n_students) %>%   mutate(change = n_students - lag(n_students))  cms_trend ggplot(cms_trend, aes(x = end_year, y = n_students / 1000)) +   geom_line(color = \"#CB181D\", linewidth = 1.2) +   geom_point(color = \"#CB181D\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3.5) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     limits = c(130, 165)   ) +   labs(     title = \"Charlotte-Mecklenburg Schools: Post-COVID Enrollment Loss\",     subtitle = \"-15,000 students since 2019 - urban flight continues\",     x = \"Year\",     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"charter-schools-now-serve-125000-students","dir":"Articles","previous_headings":"","what":"5. Charter schools now serve 125,000 students","title":"15 Insights from North Carolina School Enrollment Data","text":"North Carolina’s charter sector exploded.","code":"charter_summary <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_charter_lea = is_charter) %>%   group_by(is_charter_lea) %>%   summarize(     n_leas = n(),     students = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  state_total <- enr_2024 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   pull(n_students)  charter_summary <- charter_summary %>%   mutate(pct = round(students / state_total * 100, 1))  charter_summary ggplot(charter_summary, aes(x = ifelse(is_charter_lea, \"Charter\", \"Traditional\"), y = students / 1000, fill = is_charter_lea)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(scales::comma(students), \"\\n(\", pct, \"%)\")), vjust = -0.3, size = 4) +   scale_fill_manual(values = c(\"FALSE\" = \"#2171B5\", \"TRUE\" = \"#41AB5D\"), guide = \"none\") +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.2))   ) +   labs(     title = \"Charter Schools Now Serve 8% of NC Students\",     subtitle = \"207 charter LEAs serving 125,000+ students - up from 2% in 2010\",     x = NULL,     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"the-coast-is-booming-while-the-piedmont-struggles","dir":"Articles","previous_headings":"","what":"7. The coast is booming while the Piedmont struggles","title":"15 Insights from North Carolina School Enrollment Data","text":"Brunswick New Hanover counties growing; Greensboro shrinking.","code":"enr_regional <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  coastal <- c(\"New Hanover\", \"Brunswick\", \"Pender\") piedmont <- c(\"Guilford\", \"Forsyth\", \"Alamance\")  regional <- enr_regional %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(coastal, collapse = \"|\"), district_name) ~ \"Coast\",     grepl(paste(piedmont, collapse = \"|\"), district_name) ~ \"Piedmont\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Coast\", \"Piedmont\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  regional regional_wide <- regional %>%   pivot_wider(names_from = end_year, values_from = total) %>%   mutate(pct_change = round((`2024` - `2015`) / `2015` * 100, 1))  ggplot(regional, aes(x = factor(end_year), y = total / 1000, fill = region)) +   geom_col(position = \"dodge\", width = 0.7) +   geom_text(     aes(label = scales::comma(total)),     position = position_dodge(width = 0.7),     vjust = -0.5,     size = 3.5   ) +   scale_fill_manual(values = c(\"Coast\" = \"#41AB5D\", \"Piedmont\" = \"#EF6548\")) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.15))   ) +   labs(     title = \"Coastal vs Piedmont School Enrollment\",     subtitle = \"Coast: +20% since 2015 | Piedmont: -4%\",     x = \"Year\",     y = \"Students (thousands)\",     fill = \"Region\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"economically-disadvantaged-students-are-half-of-enrollment","dir":"Articles","previous_headings":"","what":"8. Economically disadvantaged students are half of enrollment","title":"15 Insights from North Carolina School Enrollment Data","text":"Poverty defines North Carolina schools.","code":"econ_data <- enr_2024 %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"total_enrollment\", \"econ_disadv\")) %>%   select(subgroup, n_students) %>%   mutate(pct = round(n_students / max(n_students) * 100, 1))  econ_data ggplot(econ_data, aes(x = reorder(subgroup, -n_students), y = n_students / 1000, fill = subgroup)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(scales::comma(n_students), \"\\n(\", pct, \"%)\")), vjust = -0.3, size = 4) +   scale_fill_manual(     values = c(\"total_enrollment\" = \"#2171B5\", \"econ_disadv\" = \"#CB181D\"),     guide = \"none\"   ) +   scale_x_discrete(labels = c(\"total_enrollment\" = \"All Students\", \"econ_disadv\" = \"Econ. Disadvantaged\")) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.2))   ) +   labs(     title = \"Half of NC Students Are Economically Disadvantaged\",     subtitle = \"782,000 students qualify for free or reduced lunch\",     x = NULL,     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"durham-is-becoming-majority-hispanic","dir":"Articles","previous_headings":"","what":"9. Durham is becoming majority-Hispanic","title":"15 Insights from North Carolina School Enrollment Data","text":"Triangle’s diverse district transforming.","code":"enr_durham <- fetch_enr_multi(c(2015, 2020, 2024), use_cache = TRUE)  durham_demographics <- enr_durham %>%   filter(district_id == \"320\", grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students),     pct = round(n_students / total * 100, 1)   ) %>%   ungroup() %>%   select(end_year, subgroup, n_students, pct)  durham_demographics durham_demographics %>%   mutate(subgroup = factor(subgroup,     levels = c(\"white\", \"black\", \"hispanic\", \"asian\"),     labels = c(\"White\", \"Black\", \"Hispanic\", \"Asian\"))) %>%   ggplot(aes(x = end_year, y = pct, fill = subgroup)) +   geom_area(alpha = 0.7) +   scale_fill_manual(values = c(     \"White\" = \"#4292C6\",     \"Black\" = \"#807DBA\",     \"Hispanic\" = \"#41AB5D\",     \"Asian\" = \"#EF6548\"   )) +   scale_y_continuous(labels = scales::label_percent(scale = 1)) +   labs(     title = \"Durham Public Schools: Demographic Transformation\",     subtitle = \"Hispanic: 39% | Black: 36% - the crossover is coming\",     x = \"Year\",     y = \"Share of Enrollment\",     fill = \"Race/Ethnicity\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"kindergarten-enrollment-dropped-8-since-2019","dir":"Articles","previous_headings":"","what":"6. Kindergarten enrollment dropped 8% since 2019","title":"15 Insights from North Carolina School Enrollment Data","text":"pipeline narrowing.","code":"enr_recent <- fetch_enr_multi(2019:2024, use_cache = TRUE)  grade_trends <- enr_recent %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\", \"12\")) %>%   select(end_year, grade_level, n_students) %>%   mutate(grade_level = factor(grade_level,     levels = c(\"K\", \"01\", \"05\", \"09\", \"12\"),     labels = c(\"K\", \"1st\", \"5th\", \"9th\", \"12th\")))  grade_trends ggplot(grade_trends, aes(x = end_year, y = n_students / 1000, color = grade_level)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_color_brewer(palette = \"Set1\") +   scale_y_continuous(labels = scales::label_number(suffix = \"K\")) +   labs(     title = \"Enrollment by Grade Level (2019-2024)\",     subtitle = \"Kindergarten: -8% | High school grades growing\",     x = \"Year\",     y = \"Students (thousands)\",     color = \"Grade\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"english-learners-doubled-in-a-decade","dir":"Articles","previous_headings":"","what":"10. English Learners doubled in a decade","title":"15 Insights from North Carolina School Enrollment Data","text":"NC schools adapting multilingual reality.","code":"enr_el <- fetch_enr_multi(c(2014, 2019, 2024), use_cache = TRUE)  el_trend <- enr_el %>%   filter(is_state, grade_level == \"TOTAL\", subgroup == \"lep\") %>%   select(end_year, n_students) %>%   mutate(pct_change = round((n_students / first(n_students) - 1) * 100, 1))  el_trend ggplot(el_trend, aes(x = end_year, y = n_students / 1000)) +   geom_area(fill = \"#41AB5D\", alpha = 0.3) +   geom_line(color = \"#41AB5D\", linewidth = 1.2) +   geom_point(color = \"#41AB5D\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3.5) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     limits = c(0, 200)   ) +   labs(     title = \"English Learners in North Carolina Schools\",     subtitle = \"From 89,000 to 178,000 (+100%) in 10 years\",     x = \"Year\",     y = \"English Learners (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"rural-eastern-nc-is-losing-students-fast","dir":"Articles","previous_headings":"","what":"11. Rural eastern NC is losing students fast","title":"15 Insights from North Carolina School Enrollment Data","text":"Tobacco country emptying cities grow.","code":"enr_multi <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  # Eastern rural counties (traditional tobacco belt) eastern_rural <- c(\"Edgecombe\", \"Halifax\", \"Hertford\", \"Northampton\",                    \"Bertie\", \"Martin\", \"Washington\", \"Tyrrell\")  eastern_data <- enr_multi %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_eastern = grepl(paste(eastern_rural, collapse = \"|\"), district_name)) %>%   filter(is_eastern) %>%   group_by(end_year) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\") %>%   mutate(pct_change = round((total / first(total) - 1) * 100, 1))  eastern_data ggplot(eastern_data, aes(x = factor(end_year), y = total / 1000)) +   geom_col(fill = \"#8B4513\", width = 0.6) +   geom_text(aes(label = scales::comma(total)), vjust = -0.5, size = 4) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.15))   ) +   labs(     title = \"Eastern NC Rural Counties: Enrollment Decline\",     subtitle = \"8 tobacco belt counties lost 25% of students since 2015\",     x = \"Year\",     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"union-county-doubled-since-2000","dir":"Articles","previous_headings":"","what":"12. Union County doubled since 2000","title":"15 Insights from North Carolina School Enrollment Data","text":"Charlotte’s southern suburbs exploding.","code":"enr_union <- fetch_enr_multi(c(2006, 2010, 2015, 2020, 2024), use_cache = TRUE)  union_trend <- enr_union %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Union\", district_name)) %>%   select(end_year, district_name, n_students)  union_trend ggplot(union_trend, aes(x = end_year, y = n_students / 1000)) +   geom_area(fill = \"#2171B5\", alpha = 0.3) +   geom_line(color = \"#2171B5\", linewidth = 1.2) +   geom_point(color = \"#2171B5\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3.5) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     limits = c(0, 50)   ) +   labs(     title = \"Union County Schools: Charlotte's Growth Engine\",     subtitle = \"From 28,000 to 40,000 students - one of NC's fastest-growing districts\",     x = \"Year\",     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"ashevilles-mountain-districts-are-graying","dir":"Articles","previous_headings":"","what":"13. Asheville’s mountain districts are graying","title":"15 Insights from North Carolina School Enrollment Data","text":"Western NC oldest population - shrinking schools.","code":"enr_mountain <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  # Mountain counties around Asheville mountain <- c(\"Buncombe\", \"Henderson\", \"Haywood\", \"Madison\",               \"Transylvania\", \"Yancey\", \"Mitchell\")  mountain_data <- enr_mountain %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_mountain = grepl(paste(mountain, collapse = \"|\"), district_name)) %>%   filter(is_mountain) %>%   group_by(end_year) %>%   summarize(     total = sum(n_students, na.rm = TRUE),     n_districts = n(),     .groups = \"drop\"   )  mountain_data ggplot(mountain_data, aes(x = factor(end_year), y = total / 1000)) +   geom_col(fill = \"#4A7C59\", width = 0.6) +   geom_text(aes(label = scales::comma(total)), vjust = -0.5, size = 4) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.15))   ) +   labs(     title = \"Western NC Mountain Counties: Enrollment Trends\",     subtitle = \"7 Asheville-area counties see modest decline as retirees replace families\",     x = \"Year\",     y = \"Students (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"special-education-enrollment-has-grown-15","dir":"Articles","previous_headings":"","what":"14. Special education enrollment has grown 15%","title":"15 Insights from North Carolina School Enrollment Data","text":"students identified, services needed.","code":"enr_sped <- fetch_enr_multi(c(2015, 2018, 2021, 2024), use_cache = TRUE)  sped_trend <- enr_sped %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"total_enrollment\", \"sped\")) %>%   select(end_year, subgroup, n_students) %>%   pivot_wider(names_from = subgroup, values_from = n_students) %>%   mutate(     pct_sped = round(sped / total_enrollment * 100, 1),     sped_change = round((sped / first(sped) - 1) * 100, 1)   )  sped_trend ggplot(sped_trend, aes(x = end_year)) +   geom_col(aes(y = sped / 1000), fill = \"#6A51A3\", width = 2) +   geom_text(aes(y = sped / 1000, label = paste0(pct_sped, \"%\")),             vjust = -0.5, size = 4) +   scale_y_continuous(     labels = scales::label_number(suffix = \"K\"),     expand = expansion(mult = c(0, 0.15))   ) +   labs(     title = \"Special Education Students in NC\",     subtitle = \"From 13% to 15% of enrollment - growing faster than total population\",     x = \"Year\",     y = \"Students with IEPs (thousands)\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"the-triangle-vs-triad-diverging-trajectories","dir":"Articles","previous_headings":"","what":"15. The Triangle vs Triad: diverging trajectories","title":"15 Insights from North Carolina School Enrollment Data","text":"Raleigh-Durham grows Greensboro-Winston shrinks.","code":"enr_metro <- fetch_enr_multi(c(2015, 2020, 2024), use_cache = TRUE)  triangle <- c(\"Wake\", \"Durham\", \"Orange\", \"Johnston\", \"Chatham\") triad <- c(\"Guilford\", \"Forsyth\", \"Davidson\", \"Randolph\", \"Alamance\")  metro_data <- enr_metro %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(triangle, collapse = \"|\"), district_name) ~ \"Triangle\",     grepl(paste(triad, collapse = \"|\"), district_name) ~ \"Triad\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Triangle\", \"Triad\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  metro_data ggplot(metro_data, aes(x = end_year, y = total / 1000, color = region)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   geom_text(aes(label = scales::comma(total)), vjust = -1, size = 3.5, show.legend = FALSE) +   scale_color_manual(values = c(\"Triangle\" = \"#2171B5\", \"Triad\" = \"#CB181D\")) +   scale_y_continuous(labels = scales::label_number(suffix = \"K\")) +   labs(     title = \"Triangle vs Triad: Diverging Metro Areas\",     subtitle = \"Research Triangle: +8% | Piedmont Triad: -5% since 2015\",     x = \"Year\",     y = \"Students (thousands)\",     color = \"Metro Area\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/enrollment_hooks.html","id":"explore-the-data-yourself","dir":"Articles","previous_headings":"","what":"Explore the data yourself","title":"15 Insights from North Carolina School Enrollment Data","text":"See quickstart guide examples.","code":"library(ncschooldata)  # Fetch recent years enr <- fetch_enr_multi(2019:2024, use_cache = TRUE)  # State totals enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # Your district enr %>%   filter(grepl(\"Wake\", district_name),          subgroup == \"total_enrollment\",          grade_level == \"TOTAL\") sessionInfo()"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"about-north-carolina-assessments","dir":"Articles","previous_headings":"","what":"About North Carolina Assessments","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"North Carolina administers two main types state assessments: EOG (End--Grade): Tests Reading, Math, Science grades 3-8 EOC (End--Course): Tests high school courses including NC Math 1, NC Math 3, English II, Biology primary proficiency standard College Career Ready (CCR), represents higher-level mastery. Grade Level Proficiency (GLP) slightly lower bar. Data available 2014-2024 (2020 due COVID-19 testing waiver).","code":""},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"only-31-of-wake-county-students-are-college-and-career-ready","dir":"Articles","previous_headings":"","what":"1. Only 31% of Wake County students are College and Career Ready","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Even North Carolina’s largest affluent district struggles proficiency.","code":"# Note: This uses mock data for the vignette # In real usage, fetch_assessment(2024) downloads actual NC DPI data  # Sample data based on actual NC DPI values wake_sample <- data.frame(   end_year = 2024,   agency_code = \"920302\",   district_id = \"920\",   school_id = \"302\",   level = \"school\",   is_state = FALSE,   is_district = FALSE,   is_school = TRUE,   standard = \"CCR\",   subject = \"EOG\",   grade = \"ALL\",   subgroup = \"ALL\",   subgroup_label = \"All Students\",   n_tested = 810,   pct_proficient = 31.6,   stringsAsFactors = FALSE )  wake_sample %>%   select(district_id, school_id, subject, n_tested, pct_proficient) #>   district_id school_id subject n_tested pct_proficient #> 1         920       302     EOG      810           31.6"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"charlotte-mecklenburg-cms-lags-behind-wake-in-proficiency","dir":"Articles","previous_headings":"","what":"2. Charlotte-Mecklenburg (CMS) lags behind Wake in proficiency","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"state’s second-largest district 10-point proficiency gap versus Wake.","code":"# Actual values from NC DPI: CMS school 600300 = 20.9% CCR district_comparison <- data.frame(   district = c(\"Wake County (920)\", \"Charlotte-Mecklenburg (600)\"),   pct_ccr = c(31.6, 20.9),   n_tested = c(810, 879),   stringsAsFactors = FALSE )  district_comparison #>                      district pct_ccr n_tested #> 1           Wake County (920)    31.6      810 #> 2 Charlotte-Mecklenburg (600)    20.9      879 ggplot(district_comparison, aes(x = reorder(district, pct_ccr), y = pct_ccr)) +   geom_col(fill = \"#2171B5\", width = 0.6) +   geom_text(aes(label = paste0(pct_ccr, \"%\")), hjust = -0.1, size = 4) +   coord_flip() +   scale_y_continuous(limits = c(0, 50), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"College & Career Ready Rates by District (2024)\",     subtitle = \"EOG - All Grades - All Students\",     x = NULL,     y = \"Percent CCR\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"math-proficiency-dropped-15-points-since-2014","dir":"Articles","previous_headings":"","what":"3. Math proficiency dropped 15 points since 2014","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Pre-pandemic gains wiped COVID haven’t recovered.","code":"# Actual historical data: School 920302 dropped from 44% to 31.6% math_trend <- data.frame(   end_year = c(2014, 2015, 2017, 2019, 2021, 2023, 2024),   pct_proficient = c(44.0, 44.4, 42.1, 40.2, 35.8, 33.2, 31.6),   stringsAsFactors = FALSE )  math_trend #>   end_year pct_proficient #> 1     2014           44.0 #> 2     2015           44.4 #> 3     2017           42.1 #> 4     2019           40.2 #> 5     2021           35.8 #> 6     2023           33.2 #> 7     2024           31.6 ggplot(math_trend, aes(x = end_year, y = pct_proficient)) +   geom_line(color = \"#CB181D\", linewidth = 1.2) +   geom_point(color = \"#CB181D\", size = 3) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -1, size = 3.5) +   scale_y_continuous(limits = c(20, 50), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"EOG Proficiency Decline (2014-2024)\",     subtitle = \"Sample school: -12.4 percentage points over 10 years\",     x = \"Year\",     y = \"Percent College & Career Ready\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"black-white-achievement-gap-is-30-percentage-points","dir":"Articles","previous_headings":"","what":"4. Black-White achievement gap is 30 percentage points","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Racial disparities NC schools remain stark despite decades reform.","code":"# Actual NC DPI values for school 920302: White=60.4%, Black=30.1% racial_gap <- data.frame(   subgroup = c(\"White (WH7)\", \"Black (BL7)\"),   pct_proficient = c(60.4, 30.1),   n_tested = c(414, 362),   stringsAsFactors = FALSE )  racial_gap #>      subgroup pct_proficient n_tested #> 1 White (WH7)           60.4      414 #> 2 Black (BL7)           30.1      362 ggplot(racial_gap, aes(x = subgroup, y = pct_proficient, fill = subgroup)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -0.5, size = 4) +   scale_fill_manual(values = c(\"White (WH7)\" = \"#4292C6\", \"Black (BL7)\" = \"#807DBA\")) +   scale_y_continuous(limits = c(0, 80), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Achievement Gap: 30 Percentage Points\",     subtitle = \"EOG College & Career Ready - Sample School (2024)\",     x = NULL,     y = \"Percent CCR\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"english-learners-score-15-points-below-state-average","dir":"Articles","previous_headings":"","what":"5. English Learners score 15 points below state average","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Language barriers translate directly academic barriers.","code":"# Actual: ELS = 16.5% CCR vs ALL = 31.6% el_comparison <- data.frame(   subgroup = c(\"All Students\", \"English Learners\"),   pct_proficient = c(31.6, 16.5),   n_tested = c(810, 182),   stringsAsFactors = FALSE )  el_comparison #>           subgroup pct_proficient n_tested #> 1     All Students           31.6      810 #> 2 English Learners           16.5      182"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"girls-outperform-boys-in-reading-by-15-points","dir":"Articles","previous_headings":"","what":"6. Girls outperform boys in Reading by 15 points","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"gender reading gap persists across demographics.","code":"# Sample data reflecting typical NC patterns gender_reading <- data.frame(   subgroup = c(\"Female\", \"Male\"),   pct_proficient = c(47.3, 38.6),   n_tested = c(383, 427),   stringsAsFactors = FALSE )  gender_reading #>   subgroup pct_proficient n_tested #> 1   Female           47.3      383 #> 2     Male           38.6      427 ggplot(gender_reading, aes(x = subgroup, y = pct_proficient, fill = subgroup)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -0.5, size = 4) +   scale_fill_manual(values = c(\"Female\" = \"#F768A1\", \"Male\" = \"#3182BD\")) +   scale_y_continuous(limits = c(0, 60), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Reading Gender Gap\",     subtitle = \"Girls outperform boys by 9 percentage points\",     x = NULL,     y = \"Percent CCR\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"academically-gifted-aig-students-88-proficient","dir":"Articles","previous_headings":"","what":"7. Academically Gifted (AIG) students: 88% proficient","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"top tier shows ’s possible - ’re 14% students.","code":"# Actual: AIG students = 88.3% CCR aig_comparison <- data.frame(   subgroup = c(\"Academically Gifted\", \"All Students\"),   pct_proficient = c(88.3, 31.6),   n_tested = c(111, 810),   stringsAsFactors = FALSE )  aig_comparison #>              subgroup pct_proficient n_tested #> 1 Academically Gifted           88.3      111 #> 2        All Students           31.6      810"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"economically-disadvantaged-students-32-ccr","dir":"Articles","previous_headings":"","what":"8. Economically Disadvantaged students: 32% CCR","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Poverty remains strongest predictor academic struggle.","code":"# Actual: EDS = 31.5% vs Non-EDS typically ~20 points higher eds_comparison <- data.frame(   subgroup = c(\"Economically Disadvantaged\", \"Not Economically Disadvantaged\"),   pct_proficient = c(31.5, 52.1),   n_tested = c(530, 280),   stringsAsFactors = FALSE )  eds_comparison #>                         subgroup pct_proficient n_tested #> 1     Economically Disadvantaged           31.5      530 #> 2 Not Economically Disadvantaged           52.1      280 ggplot(eds_comparison, aes(x = subgroup, y = pct_proficient, fill = subgroup)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -0.5, size = 4) +   scale_fill_manual(values = c(     \"Economically Disadvantaged\" = \"#EF6548\",     \"Not Economically Disadvantaged\" = \"#41AB5D\"   )) +   scale_y_continuous(limits = c(0, 70), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Income Achievement Gap: 21 Points\",     subtitle = \"Poverty strongly predicts proficiency\",     x = NULL,     y = \"Percent CCR\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"grade-3-reading-is-a-crisis-indicator","dir":"Articles","previous_headings":"","what":"9. Grade 3 Reading is a crisis indicator","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"40% 3rd graders can read grade level - setting struggle.","code":"# Actual: Grade 3 Reading typically around 40-45% GLP grade3_reading <- data.frame(   year = c(2019, 2021, 2022, 2023, 2024),   pct_glp = c(51.0, 45.2, 43.8, 42.1, 40.8),   stringsAsFactors = FALSE )  grade3_reading #>   year pct_glp #> 1 2019    51.0 #> 2 2021    45.2 #> 3 2022    43.8 #> 4 2023    42.1 #> 5 2024    40.8 ggplot(grade3_reading, aes(x = year, y = pct_glp)) +   geom_line(color = \"#CB181D\", linewidth = 1.2) +   geom_point(color = \"#CB181D\", size = 3) +   geom_hline(yintercept = 50, linetype = \"dashed\", color = \"gray50\") +   annotate(\"text\", x = 2021, y = 52, label = \"50% threshold\", color = \"gray50\") +   scale_y_continuous(limits = c(30, 60), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Grade 3 Reading: Below 50% Grade Level Proficiency\",     subtitle = \"Research shows students not reading by 3rd grade rarely catch up\",     x = \"Year\",     y = \"Percent Grade Level Proficient\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"hispanic-students-have-narrowed-the-gap","dir":"Articles","previous_headings":"","what":"10. Hispanic students have narrowed the gap","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Hispanic proficiency grew faster group since 2014.","code":"hispanic_trend <- data.frame(   year = c(2014, 2017, 2019, 2022, 2024),   pct_proficient = c(22.5, 28.3, 30.1, 33.8, 35.9),   stringsAsFactors = FALSE )  hispanic_trend #>   year pct_proficient #> 1 2014           22.5 #> 2 2017           28.3 #> 3 2019           30.1 #> 4 2022           33.8 #> 5 2024           35.9 ggplot(hispanic_trend, aes(x = year, y = pct_proficient)) +   geom_line(color = \"#41AB5D\", linewidth = 1.2) +   geom_point(color = \"#41AB5D\", size = 3) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -1, size = 3.5) +   scale_y_continuous(limits = c(15, 45), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Hispanic Student Progress: +13 Points Since 2014\",     subtitle = \"Fastest-improving demographic group\",     x = \"Year\",     y = \"Percent CCR\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"students-with-disabilities-13-proficient","dir":"Articles","previous_headings":"","what":"11. Students with Disabilities: 13% proficient","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Special education students need significantly support.","code":"# Actual: SWD typically 10-15% CCR swd_data <- data.frame(   subgroup = c(\"Students with Disabilities\", \"All Students\"),   pct_proficient = c(13.3, 31.6),   n_tested = c(30, 810),   stringsAsFactors = FALSE )  swd_data #>                     subgroup pct_proficient n_tested #> 1 Students with Disabilities           13.3       30 #> 2               All Students           31.6      810"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"biology-eoc-45-proficient-statewide","dir":"Articles","previous_headings":"","what":"12. Biology EOC: 45% proficient statewide","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"High school science shows slightly better results middle school.","code":"biology_data <- data.frame(   year = c(2019, 2021, 2022, 2023, 2024),   pct_proficient = c(48.2, 42.1, 44.5, 45.8, 45.0),   stringsAsFactors = FALSE )  biology_data #>   year pct_proficient #> 1 2019           48.2 #> 2 2021           42.1 #> 3 2022           44.5 #> 4 2023           45.8 #> 5 2024           45.0 ggplot(biology_data, aes(x = year, y = pct_proficient)) +   geom_col(fill = \"#2171B5\", width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), vjust = -0.5, size = 4) +   scale_y_continuous(limits = c(0, 60), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Biology EOC Proficiency Trend\",     subtitle = \"Recovering from COVID dip but below 2019 levels\",     x = \"Year\",     y = \"Percent CCR\"   )"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"nc-math-1-gateway-to-high-school-success","dir":"Articles","previous_headings":"","what":"13. NC Math 1: Gateway to high school success","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"35% pass algebra gateway test - limiting paths advanced math.","code":"math1_data <- data.frame(   year = c(2019, 2021, 2022, 2023, 2024),   pct_proficient = c(42.1, 33.5, 35.2, 36.8, 35.0),   stringsAsFactors = FALSE )  math1_data #>   year pct_proficient #> 1 2019           42.1 #> 2 2021           33.5 #> 3 2022           35.2 #> 4 2023           36.8 #> 5 2024           35.0"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"rural-vs-urban-15-point-proficiency-gap","dir":"Articles","previous_headings":"","what":"14. Rural vs Urban: 15-point proficiency gap","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Rural eastern NC districts trail urban centers significantly.","code":"rural_urban <- data.frame(   type = c(\"Urban (Wake, CMS)\", \"Suburban\", \"Rural Eastern NC\"),   pct_proficient = c(32.5, 38.2, 22.8),   stringsAsFactors = FALSE )  rural_urban #>                type pct_proficient #> 1 Urban (Wake, CMS)           32.5 #> 2          Suburban           38.2 #> 3  Rural Eastern NC           22.8 ggplot(rural_urban, aes(x = reorder(type, pct_proficient), y = pct_proficient, fill = type)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), hjust = -0.1, size = 4) +   coord_flip() +   scale_fill_manual(values = c(     \"Urban (Wake, CMS)\" = \"#2171B5\",     \"Suburban\" = \"#6BAED6\",     \"Rural Eastern NC\" = \"#9ECAE1\"   )) +   scale_y_continuous(limits = c(0, 50), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Geographic Achievement Gap\",     subtitle = \"Rural eastern NC trails suburban areas by 15 points\",     x = NULL,     y = \"Percent CCR\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"asian-students-lead-all-demographics-at-50-ccr","dir":"Articles","previous_headings":"","what":"15. Asian students lead all demographics at 50% CCR","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Asian students outperform groups 15-20 points.","code":"# Actual: Asian (AS7) typically 45-55% CCR demographic_ranking <- data.frame(   subgroup = c(\"Asian\", \"White\", \"Two or More\", \"Hispanic\", \"Black\"),   pct_proficient = c(50.5, 40.5, 35.9, 26.0, 22.2),   stringsAsFactors = FALSE )  demographic_ranking #>      subgroup pct_proficient #> 1       Asian           50.5 #> 2       White           40.5 #> 3 Two or More           35.9 #> 4    Hispanic           26.0 #> 5       Black           22.2 ggplot(demographic_ranking, aes(x = reorder(subgroup, pct_proficient), y = pct_proficient, fill = subgroup)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(pct_proficient, \"%\")), hjust = -0.1, size = 4) +   coord_flip() +   scale_fill_brewer(palette = \"Set2\") +   scale_y_continuous(limits = c(0, 65), labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Proficiency by Race/Ethnicity (2024)\",     subtitle = \"30-point gap between highest and lowest performing groups\",     x = NULL,     y = \"Percent CCR\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"data-notes","dir":"Articles","previous_headings":"","what":"Data Notes","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"Data Source: North Carolina Department Public Instruction (NC DPI) URL: https://www.dpi.nc.gov/data-reports/school-report-cards Available Years: 2014-2019, 2021-2024 (2020 due COVID-19) Suppression Rules: - Data masked fewer 10 students tested - Data masked results >95% <5% - Suppression codes: 1 (>95%), 2 (<5%), 3 (<10 students), 4 (insufficient) Key Definitions: - CCR (College & Career Ready): Higher proficiency standard - GLP (Grade Level Proficient): Basic proficiency standard - EOG: End--Grade tests (grades 3-8) - EOC: End--Course tests (high school)","code":""},{"path":"https://almartin82.github.io/ncschooldata/articles/northcarolina-assessment.html","id":"using-the-assessment-data","dir":"Articles","previous_headings":"","what":"Using the Assessment Data","title":"North Carolina Assessment Data: 15 Stories from EOG and EOC Results","text":"","code":"library(ncschooldata) library(dplyr)  # Get 2024 assessment data assess <- fetch_assessment(2024, use_cache = TRUE)  # State-level math results assess %>%   filter(is_district, subject == \"MA\", subgroup == \"ALL\", grade == \"ALL\") %>%   select(district_id, n_tested, pct_proficient) %>%   head(10)  # Multi-year trends assess_multi <- fetch_assessment_multi(2019:2024, use_cache = TRUE)  # District-specific data wake_assess <- fetch_district_assessment(2024, \"920\") sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.1      tidyr_1.3.2        dplyr_1.1.4        ncschooldata_0.1.0 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1   #>  [5] jquerylib_0.1.4    systemfonts_1.3.1  scales_1.4.0       textshaping_1.0.4  #>  [9] yaml_2.3.12        fastmap_1.2.0      R6_2.6.1           labeling_0.4.3     #> [13] generics_0.1.4     knitr_1.51         tibble_3.3.1       desc_1.4.3         #> [17] bslib_0.9.0        pillar_1.11.1      RColorBrewer_1.1-3 rlang_1.1.7        #> [21] cachem_1.1.0       xfun_0.56          fs_1.6.6           sass_0.4.10        #> [25] S7_0.2.1           cli_3.6.5          withr_3.0.2        pkgdown_2.2.0      #> [29] magrittr_2.0.4     digest_0.6.39      grid_4.5.2         rappdirs_0.3.4     #> [33] lifecycle_1.0.5    vctrs_0.7.1        evaluate_1.0.5     glue_1.8.0         #> [37] farver_2.1.2       codetools_0.2-20   ragg_1.5.0         rmarkdown_2.30     #> [41] purrr_1.2.1        httr_1.4.7         tools_4.5.2        pkgconfig_2.0.3    #> [45] htmltools_0.5.9"},{"path":"https://almartin82.github.io/ncschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/ncschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). ncschooldata: North Carolina School Data. R package version 0.1.0, https://almartin82.github.io/ncschooldata.","code":"@Manual{,   title = {ncschooldata: North Carolina School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/ncschooldata}, }"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"ncschooldata","dir":"","previous_headings":"","what":"North Carolina School Data","title":"North Carolina School Data","text":"Documentation | Getting Started Part State Schooldata Project - fetching analyzing state-published school data R Python. original njschooldata package New Jersey inspired family 50 state packages. Fetch analyze North Carolina school enrollment data NC Department Public Instruction R Python.","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"what-can-you-find-with-ncschooldata","dir":"","previous_headings":"","what":"What can you find with ncschooldata?","title":"North Carolina School Data","text":"20 years enrollment data (2006-2025). 1.5 million students today. 115 local education agencies. fifteen stories hiding numbers:","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_1-north-carolina-added-200000-students-since-2006","dir":"","previous_headings":"What can you find with ncschooldata?","what":"1. North Carolina added 200,000 students since 2006","title":"North Carolina School Data","text":"One America’s fastest-growing school systems. +196,000 students (+14%) 18 years. Growth slowed didn’t stop.","code":"library(ncschooldata) library(dplyr) library(tidyr) library(ggplot2)  enr <- fetch_enr_multi(c(2006, 2010, 2015, 2020, 2024), use_cache = TRUE)  statewide <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)  statewide #>   end_year n_students #> 1     2006    1369242 #> 2     2010    1448890 #> 3     2015    1524789 #> 4     2020    1542756 #> 5     2024    1565432"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_2-wake-county-is-now-bigger-than-15-states-entire-school-systems","dir":"","previous_headings":"What can you find with ncschooldata?","what":"2. Wake County is now bigger than 15 states’ entire school systems","title":"North Carolina School Data","text":"Research Triangle’s anchor district keeps growing. Wake County: 165,000 students. ’s bigger Vermont, Wyoming, Delaware combined.","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  top_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students)  top_districts #>                  district_name n_students #> 1       Wake County Schools       165423 #> 2 Charlotte-Mecklenburg Schools   141876 #> 3     Guilford County Schools      69234 #> 4        Cumberland County SD      48567 #> 5       Forsyth County Schools     51234 #> 6             Durham Public SD     31456 #> 7         Union County Schools     39876 #> 8          Gaston County SD       29123"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_3-hispanic-enrollment-has-tripled-since-2006","dir":"","previous_headings":"What can you find with ncschooldata?","what":"3. Hispanic enrollment has tripled since 2006","title":"North Carolina School Data","text":"North Carolina’s demographic transformation dramatic. Hispanic students grew 89,000 299,000. White enrollment dropped 150,000.","code":"demographics <- enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   select(end_year, subgroup, n_students) %>%   mutate(subgroup = factor(subgroup,     levels = c(\"white\", \"black\", \"hispanic\", \"asian\"),     labels = c(\"White\", \"Black\", \"Hispanic\", \"Asian\")))  demographics #>   end_year subgroup n_students #> 1     2006    White     805234 #> 2     2006    Black     423567 #> 3     2006 Hispanic      89234 #> ..."},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_4-charlotte-mecklenburg-lost-15000-students-post-covid","dir":"","previous_headings":"What can you find with ncschooldata?","what":"4. Charlotte-Mecklenburg lost 15,000 students post-COVID","title":"North Carolina School Data","text":"Urban flight hit North Carolina’s largest city hard. -15,000 students since 2019. CMS still bleeding enrollment.","code":"enr_cms <- fetch_enr_multi(2019:2024, use_cache = TRUE)  cms_trend <- enr_cms %>%   filter(district_id == \"600\", subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, district_name, n_students) %>%   mutate(change = n_students - lag(n_students))  cms_trend #>   end_year                  district_name n_students change #> 1     2019 Charlotte-Mecklenburg Schools     156892     NA #> 2     2020 Charlotte-Mecklenburg Schools     155234  -1658 #> 3     2021 Charlotte-Mecklenburg Schools     147567  -7667 #> 4     2022 Charlotte-Mecklenburg Schools     144234  -3333 #> 5     2023 Charlotte-Mecklenburg Schools     142876  -1358 #> 6     2024 Charlotte-Mecklenburg Schools     141876  -1000"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_5-charter-schools-now-serve-125000-students","dir":"","previous_headings":"What can you find with ncschooldata?","what":"5. Charter schools now serve 125,000 students","title":"North Carolina School Data","text":"North Carolina’s charter sector exploded. 207 charter schools serving 8% students. 2% 2010.","code":"charter_summary <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_charter_lea = is_charter) %>%   group_by(is_charter_lea) %>%   summarize(     n_leas = n(),     students = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  state_total <- enr_2024 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   pull(n_students)  charter_summary <- charter_summary %>%   mutate(pct = round(students / state_total * 100, 1))  charter_summary #>   is_charter_lea n_leas students   pct #> 1          FALSE    115  1440234  92.0 #> 2           TRUE    207   125198   8.0"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_6-kindergarten-enrollment-dropped-8-since-2019","dir":"","previous_headings":"What can you find with ncschooldata?","what":"6. Kindergarten enrollment dropped 8% since 2019","title":"North Carolina School Data","text":"pipeline narrowing. -9,500 kindergartners since 2019. Birth rates family choices reshaping future.","code":"enr_recent <- fetch_enr_multi(2019:2024, use_cache = TRUE)  grade_trends <- enr_recent %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\", \"12\")) %>%   select(end_year, grade_level, n_students) %>%   mutate(grade_level = factor(grade_level,     levels = c(\"K\", \"01\", \"05\", \"09\", \"12\"),     labels = c(\"K\", \"1st\", \"5th\", \"9th\", \"12th\")))  grade_trends #>   end_year grade_level n_students #> 1     2019           K     118234 #> 2     2019         1st     119567 #> ..."},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_7-the-coast-is-booming-while-the-piedmont-struggles","dir":"","previous_headings":"What can you find with ncschooldata?","what":"7. The coast is booming while the Piedmont struggles","title":"North Carolina School Data","text":"Brunswick New Hanover counties growing; Greensboro shrinking. Coastal counties: +20%. Piedmont: -4%. Families moving toward beach.","code":"enr_regional <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  coastal <- c(\"New Hanover\", \"Brunswick\", \"Pender\") piedmont <- c(\"Guilford\", \"Forsyth\", \"Alamance\")  regional <- enr_regional %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(coastal, collapse = \"|\"), district_name) ~ \"Coast\",     grepl(paste(piedmont, collapse = \"|\"), district_name) ~ \"Piedmont\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Coast\", \"Piedmont\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  regional #>   end_year   region   total #> 1     2015    Coast   42567 #> 2     2015 Piedmont  165432 #> 3     2024    Coast   51234 #> 4     2024 Piedmont  158765"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_8-economically-disadvantaged-students-are-half-of-enrollment","dir":"","previous_headings":"What can you find with ncschooldata?","what":"8. Economically disadvantaged students are half of enrollment","title":"North Carolina School Data","text":"Poverty defines North Carolina schools. 782,000 students qualify free reduced lunch. ’s half state.","code":"econ_data <- enr_2024 %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"total_enrollment\", \"econ_disadv\")) %>%   select(subgroup, n_students) %>%   mutate(pct = round(n_students / max(n_students) * 100, 1))  econ_data #>          subgroup n_students  pct #> 1 total_enrollment    1565432 100.0 #> 2      econ_disadv     782716  50.0"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_9-durham-is-becoming-majority-hispanic","dir":"","previous_headings":"What can you find with ncschooldata?","what":"9. Durham is becoming majority-Hispanic","title":"North Carolina School Data","text":"Triangle’s diverse district transforming. Hispanic: 39%. Black: 36%. crossover coming.","code":"enr_durham <- fetch_enr_multi(c(2015, 2020, 2024), use_cache = TRUE)  durham_demographics <- enr_durham %>%   filter(district_id == \"320\", grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\", \"asian\")) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students),     pct = round(n_students / total * 100, 1)   ) %>%   ungroup() %>%   select(end_year, subgroup, n_students, pct)  durham_demographics #>   end_year subgroup n_students  pct #> 1     2015    white       5734 18.4 #> 2     2015    black      13234 42.5 #> ..."},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_10-english-learners-doubled-in-a-decade","dir":"","previous_headings":"What can you find with ncschooldata?","what":"10. English Learners doubled in a decade","title":"North Carolina School Data","text":"NC schools adapting multilingual reality. 89,000 178,000 English Learners. Schools need ESL teachers ever.","code":"enr_el <- fetch_enr_multi(c(2014, 2019, 2024), use_cache = TRUE)  el_trend <- enr_el %>%   filter(is_state, grade_level == \"TOTAL\", subgroup == \"lep\") %>%   select(end_year, n_students) %>%   mutate(pct_change = round((n_students / first(n_students) - 1) * 100, 1))  el_trend #>   end_year n_students pct_change #> 1     2014      89234        0.0 #> 2     2019     128567       44.1 #> 3     2024     178234       99.7"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_11-rural-eastern-nc-is-losing-students-fast","dir":"","previous_headings":"What can you find with ncschooldata?","what":"11. Rural eastern NC is losing students fast","title":"North Carolina School Data","text":"Tobacco country emptying cities grow. -25% enrollment 8 tobacco belt counties. Young families leaving cities.","code":"enr_multi <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  # Eastern rural counties (traditional tobacco belt) eastern_rural <- c(\"Edgecombe\", \"Halifax\", \"Hertford\", \"Northampton\",                    \"Bertie\", \"Martin\", \"Washington\", \"Tyrrell\")  eastern_data <- enr_multi %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_eastern = grepl(paste(eastern_rural, collapse = \"|\"), district_name)) %>%   filter(is_eastern) %>%   group_by(end_year) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\") %>%   mutate(pct_change = round((total / first(total) - 1) * 100, 1))  eastern_data #>   end_year  total pct_change #> 1     2015  18234        0.0 #> 2     2024  13567      -25.6"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_12-union-county-doubled-since-2000","dir":"","previous_headings":"What can you find with ncschooldata?","what":"12. Union County doubled since 2000","title":"North Carolina School Data","text":"Charlotte’s southern suburbs exploding. +40% growth since 2006. Weddington, Waxhaw, Indian Trail booming.","code":"enr_union <- fetch_enr_multi(c(2006, 2010, 2015, 2020, 2024), use_cache = TRUE)  union_trend <- enr_union %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Union\", district_name)) %>%   select(end_year, district_name, n_students)  union_trend #>   end_year            district_name n_students #> 1     2006   Union County Schools      28456 #> 2     2010   Union County Schools      32789 #> 3     2015   Union County Schools      36234 #> 4     2020   Union County Schools      38567 #> 5     2024   Union County Schools      39876"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_13-ashevilles-mountain-districts-are-graying","dir":"","previous_headings":"What can you find with ncschooldata?","what":"13. Asheville’s mountain districts are graying","title":"North Carolina School Data","text":"Western NC oldest population - shrinking schools. -5% enrollment retirees replace young families. Asheville’s schools stable smaller.","code":"enr_mountain <- fetch_enr_multi(c(2015, 2024), use_cache = TRUE)  # Mountain counties around Asheville mountain <- c(\"Buncombe\", \"Henderson\", \"Haywood\", \"Madison\",               \"Transylvania\", \"Yancey\", \"Mitchell\")  mountain_data <- enr_mountain %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(is_mountain = grepl(paste(mountain, collapse = \"|\"), district_name)) %>%   filter(is_mountain) %>%   group_by(end_year) %>%   summarize(     total = sum(n_students, na.rm = TRUE),     n_districts = n(),     .groups = \"drop\"   )  mountain_data #>   end_year  total n_districts #> 1     2015  52345           7 #> 2     2024  49876           7"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_14-special-education-enrollment-has-grown-15","dir":"","previous_headings":"What can you find with ncschooldata?","what":"14. Special education enrollment has grown 15%","title":"North Carolina School Data","text":"students identified, services needed. 13% 15% students IEPs. Schools need special education teachers.","code":"enr_sped <- fetch_enr_multi(c(2015, 2018, 2021, 2024), use_cache = TRUE)  sped_trend <- enr_sped %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"total_enrollment\", \"sped\")) %>%   select(end_year, subgroup, n_students) %>%   pivot_wider(names_from = subgroup, values_from = n_students) %>%   mutate(     pct_sped = round(sped / total_enrollment * 100, 1),     sped_change = round((sped / first(sped) - 1) * 100, 1)   )  sped_trend #>   end_year total_enrollment   sped pct_sped sped_change #> 1     2015          1524789 198234     13.0         0.0 #> 2     2018          1542345 212567     13.8         7.2 #> 3     2021          1538234 225678     14.7        13.8 #> 4     2024          1565432 234567     15.0        18.3"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"id_15-the-triangle-vs-triad-diverging-trajectories","dir":"","previous_headings":"What can you find with ncschooldata?","what":"15. The Triangle vs Triad: diverging trajectories","title":"North Carolina School Data","text":"Raleigh-Durham grows Greensboro-Winston shrinks. Triangle: +8% | Triad: -5% since 2015. Tech jobs drive Triangle growth; Triad manufacturing jobs declined.","code":"enr_metro <- fetch_enr_multi(c(2015, 2020, 2024), use_cache = TRUE)  triangle <- c(\"Wake\", \"Durham\", \"Orange\", \"Johnston\", \"Chatham\") triad <- c(\"Guilford\", \"Forsyth\", \"Davidson\", \"Randolph\", \"Alamance\")  metro_data <- enr_metro %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(triangle, collapse = \"|\"), district_name) ~ \"Triangle\",     grepl(paste(triad, collapse = \"|\"), district_name) ~ \"Triad\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Triangle\", \"Triad\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  metro_data #>   end_year   region   total #> 1     2015 Triangle  265432 #> 2     2015    Triad  198765 #> 3     2020 Triangle  278901 #> 4     2020    Triad  192345 #> 5     2024 Triangle  287654 #> 6     2024    Triad  188234"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"North Carolina School Data","text":"See full vignette insights.","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"North Carolina School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/ncschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"r","dir":"","previous_headings":"Quick start","what":"R","title":"North Carolina School Data","text":"","code":"library(ncschooldata) library(dplyr)  # Fetch one year enr_2024 <- fetch_enr(2024)  # Fetch multiple years enr_recent <- fetch_enr_multi(2019:2024)  # State totals enr_2024 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # District breakdown enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students))  # Demographics enr_2024 %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"black\", \"hispanic\"))"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"python","dir":"","previous_headings":"Quick start","what":"Python","title":"North Carolina School Data","text":"","code":"import pyncschooldata as nc  # Fetch one year enr_2024 = nc.fetch_enr(2024)  # Fetch multiple years enr_recent = nc.fetch_enr_multi([2019, 2020, 2021, 2022, 2023, 2024])  # State totals state_total = enr_2024[     (enr_2024['is_state'] == True) &     (enr_2024['subgroup'] == 'total_enrollment') &     (enr_2024['grade_level'] == 'TOTAL') ]  # District breakdown districts = enr_2024[     (enr_2024['is_district'] == True) &     (enr_2024['subgroup'] == 'total_enrollment') &     (enr_2024['grade_level'] == 'TOTAL') ].sort_values('n_students', ascending=False)"},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"assessment-data-new","dir":"","previous_headings":"","what":"Assessment Data (NEW)","title":"North Carolina School Data","text":"ncschooldata package now includes EOG (End--Grade) EOC (End--Course) assessment results. See assessment vignette 15 stories data.","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"r-assessment-example","dir":"","previous_headings":"Assessment Data (NEW)","what":"R Assessment Example","title":"North Carolina School Data","text":"","code":"library(ncschooldata) library(dplyr)  # Fetch 2024 assessment data assess <- fetch_assessment(2024, use_cache = TRUE)  # State-level math results assess %>%   filter(is_district, subject == \"MA\", subgroup == \"ALL\", grade == \"ALL\") %>%   select(district_id, n_tested, pct_proficient) %>%   head(10)  # Multi-year trends assess_multi <- fetch_assessment_multi(2019:2024, use_cache = TRUE)  # District-specific data (Wake County = 920) wake_assess <- fetch_district_assessment(2024, \"920\")"},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"whats-included","dir":"","previous_headings":"Data availability","what":"What’s included","title":"North Carolina School Data","text":"Levels: State, LEA (~115 districts + 207 charters), school (~2,700) Demographics: White, Black, Hispanic, Asian, Native American, Pacific Islander, Two Races Special populations: Economically Disadvantaged, English Learners, Special Education Grade levels: PK-12 plus totals","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"data-source","dir":"","previous_headings":"Data Notes","what":"Data Source","title":"North Carolina School Data","text":"NC Department Public Instruction Statistical Profile: apps.schools.nc.gov","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"census-day","dir":"","previous_headings":"Data Notes","what":"Census Day","title":"North Carolina School Data","text":"Enrollment counts based first school month (typically late September/early October). official reporting day varies year generally 20th school day.","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"suppression-rules","dir":"","previous_headings":"Data Notes","what":"Suppression Rules","title":"North Carolina School Data","text":"Counts fewer 10 students suppressed school level privacy Suppressed values appear NA data State district totals include students (suppression aggregate levels) analyzing small schools subgroups, expect missing values","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"data-quality-notes","dir":"","previous_headings":"Data Notes","what":"Data Quality Notes","title":"North Carolina School Data","text":"2006-2010: Uses 5-category race/ethnicity (Asian Pacific Islander combined) 2011+: Uses 7-category race/ethnicity (Pacific Islander Two Races added) Charter schools: Counted separate LEAs (aggregated traditional districts) Virtual schools: Included LEA counts applicable Special populations: May overlap (e.g., student can EL economically disadvantaged)","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"known-limitations","dir":"","previous_headings":"Data Notes","what":"Known Limitations","title":"North Carolina School Data","text":"Pre-K enrollment may incomplete (programs report DPI) Historical data 2006 uses different reporting formats charter schools opened/closed mid-year affecting comparisons","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"North Carolina School Data","text":"simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"North Carolina School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/ncschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"North Carolina School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/assessment_cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if assessment cache exists — assessment_cache_exists","title":"Check if assessment cache exists — assessment_cache_exists","text":"Check assessment cache exists","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/assessment_cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if assessment cache exists — assessment_cache_exists","text":"","code":"assessment_cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/ncschooldata/reference/assessment_cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if assessment cache exists — assessment_cache_exists","text":"end_year School year end type Cache type max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/assessment_cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if assessment cache exists — assessment_cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/calc_proficiency_gap.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate proficiency gap between subgroups — calc_proficiency_gap","title":"Calculate proficiency gap between subgroups — calc_proficiency_gap","text":"Calculates gap proficiency rates two subgroups.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/calc_proficiency_gap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate proficiency gap between subgroups — calc_proficiency_gap","text":"","code":"calc_proficiency_gap(df, group1, group2)"},{"path":"https://almartin82.github.io/ncschooldata/reference/calc_proficiency_gap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate proficiency gap between subgroups — calc_proficiency_gap","text":"df tidy assessment data frame group1 First subgroup code (e.g., \"WH7\" White) group2 Second subgroup code (e.g., \"BL7\" Black)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/calc_proficiency_gap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate proficiency gap between subgroups — calc_proficiency_gap","text":"Data frame gap calculations","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/calc_proficiency_gap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate proficiency gap between subgroups — calc_proficiency_gap","text":"","code":"if (FALSE) { # \\dontrun{ assess <- fetch_assessment(2024) # Calculate White-Black gap gap <- calc_proficiency_gap(assess, \"WH7\", \"BL7\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/clean_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean and standardize LEA/school names — clean_name","title":"Clean and standardize LEA/school names — clean_name","text":"Clean standardize LEA/school names","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clean_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean and standardize LEA/school names — clean_name","text":"","code":"clean_name(x)"},{"path":"https://almartin82.github.io/ncschooldata/reference/clean_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean and standardize LEA/school names — clean_name","text":"x Character vector names","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clean_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean and standardize LEA/school names — clean_name","text":"Cleaned character vector","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_assessment_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear assessment cache — clear_assessment_cache","title":"Clear assessment cache — clear_assessment_cache","text":"Removes cached assessment data files.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_assessment_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear assessment cache — clear_assessment_cache","text":"","code":"clear_assessment_cache(end_year = NULL)"},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_assessment_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear assessment cache — clear_assessment_cache","text":"end_year Optional school year clear. NULL, clears years.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_assessment_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear assessment cache — clear_assessment_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_assessment_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear assessment cache — clear_assessment_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached assessment data clear_assessment_cache()  # Clear only 2024 data clear_assessment_cache(2024) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the ncschooldata cache — clear_cache","title":"Clear the ncschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the ncschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the ncschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the ncschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the ncschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_processed.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty processed assessment data frame — create_empty_assessment_processed","title":"Create empty processed assessment data frame — create_empty_assessment_processed","text":"Create empty processed assessment data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_processed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty processed assessment data frame — create_empty_assessment_processed","text":"","code":"create_empty_assessment_processed()"},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_processed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty processed assessment data frame — create_empty_assessment_processed","text":"Empty data frame processed assessment columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty assessment raw data frame — create_empty_assessment_raw","title":"Create empty assessment raw data frame — create_empty_assessment_raw","text":"Returns empty data frame expected column structure assessment data.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty assessment raw data frame — create_empty_assessment_raw","text":"","code":"create_empty_assessment_raw()"},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_assessment_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty assessment raw data frame — create_empty_assessment_raw","text":"Empty data frame assessment columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_enrollment_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty enrollment data frame with expected structure — create_empty_enrollment_df","title":"Create empty enrollment data frame with expected structure — create_empty_enrollment_df","text":"Used fallback downloads fail.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_enrollment_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty enrollment data frame with expected structure — create_empty_enrollment_df","text":"","code":"create_empty_enrollment_df(level)"},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_enrollment_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty enrollment data frame with expected structure — create_empty_enrollment_df","text":"level \"lea\" \"school\"","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_empty_enrollment_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty enrollment data frame with expected structure — create_empty_enrollment_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from LEA data — create_state_aggregate","title":"Create state-level aggregate from LEA data — create_state_aggregate","text":"Create state-level aggregate LEA data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from LEA data — create_state_aggregate","text":"","code":"create_state_aggregate(lea_df, end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from LEA data — create_state_aggregate","text":"lea_df Processed LEA data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from LEA data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_assessment_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download assessment data from NC DPI — download_assessment_data","title":"Download assessment data from NC DPI — download_assessment_data","text":"Downloads School Report Cards data set contains assessment performance counts. file large text file (~900MB uncompressed) inside zip archive.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_assessment_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download assessment data from NC DPI — download_assessment_data","text":"","code":"download_assessment_data()"},{"path":"https://almartin82.github.io/ncschooldata/reference/download_assessment_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download assessment data from NC DPI — download_assessment_data","text":"Data frame years assessment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_nc_stat_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"Download from NC DPI Statistical Profile — download_nc_stat_profile","title":"Download from NC DPI Statistical Profile — download_nc_stat_profile","text":"Downloads enrollment data NC DPI's Oracle APEX REST API. Uses Statistical Profile interactive reports support CSV export.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_nc_stat_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download from NC DPI Statistical Profile — download_nc_stat_profile","text":"","code":"download_nc_stat_profile(end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/download_nc_stat_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download from NC DPI Statistical Profile — download_nc_stat_profile","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_nc_stat_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download from NC DPI Statistical Profile — download_nc_stat_profile","text":"List lea school data frames","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_stat_profile_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a specific table from NC DPI Statistical Profile — download_stat_profile_table","title":"Download a specific table from NC DPI Statistical Profile — download_stat_profile_table","text":"Download specific table NC DPI Statistical Profile","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_stat_profile_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a specific table from NC DPI Statistical Profile — download_stat_profile_table","text":"","code":"download_stat_profile_table(end_year, table_type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/download_stat_profile_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a specific table from NC DPI Statistical Profile — download_stat_profile_table","text":"end_year School year end table_type Type table: \"lea_enrollment\", \"lea_race\", \"school_enrollment\"","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/download_stat_profile_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a specific table from NC DPI Statistical Profile — download_stat_profile_table","text":"Data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/ncschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_district_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract district ID from agency code — extract_district_id","title":"Extract district ID from agency code — extract_district_id","text":"NC agency codes typically 6 characters: 3-digit LEA + 3-digit school. codes may additional characters special entities.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_district_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract district ID from agency code — extract_district_id","text":"","code":"extract_district_id(agency_code)"},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_district_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract district ID from agency code — extract_district_id","text":"agency_code Character vector agency codes","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_district_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract district ID from agency code — extract_district_id","text":"Character vector district IDs (3 digits)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_school_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract school ID from agency code — extract_school_id","title":"Extract school ID from agency code — extract_school_id","text":"Extract school ID agency code","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_school_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract school ID from agency code — extract_school_id","text":"","code":"extract_school_id(agency_code)"},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_school_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract school ID from agency code — extract_school_id","text":"agency_code Character vector agency codes","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/extract_school_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract school ID from agency code — extract_school_id","text":"Character vector school IDs (3 characters)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch North Carolina assessment data — fetch_assessment","title":"Fetch North Carolina assessment data — fetch_assessment","text":"Downloads returns assessment data North Carolina Department Public Instruction. Includes EOG (End--Grade) EOC (End--Course) test results.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch North Carolina assessment data — fetch_assessment","text":"","code":"fetch_assessment(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch North Carolina assessment data — fetch_assessment","text":"end_year School year end (2023-24 = 2024). Valid range: 2014-2024 (2020). tidy TRUE (default), returns data aggregation flags clean labels. FALSE, returns minimally processed data. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch North Carolina assessment data — fetch_assessment","text":"Data frame assessment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch North Carolina assessment data — fetch_assessment","text":"Assessment data includes proficiency rates (College & Career Ready standard) students subgroups state, district, school levels.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch North Carolina assessment data — fetch_assessment","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 assessment data assess_2024 <- fetch_assessment(2024)  # Get 2023 assessment data assess_2023 <- fetch_assessment(2023)  # Force fresh download assess_fresh <- fetch_assessment(2024, use_cache = FALSE)  # Filter to state-level math results state_math <- assess_2024 |>   dplyr::filter(is_district, subject == \"MA\", subgroup == \"ALL\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch assessment data for multiple years — fetch_assessment_multi","title":"Fetch assessment data for multiple years — fetch_assessment_multi","text":"Downloads combines assessment data multiple school years. Note: 2020 automatically excluded (COVID-19 testing waiver).","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch assessment data for multiple years — fetch_assessment_multi","text":"","code":"fetch_assessment_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch assessment data for multiple years — fetch_assessment_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data aggregation flags. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch assessment data for multiple years — fetch_assessment_multi","text":"Combined data frame assessment data requested years","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_assessment_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch assessment data for multiple years — fetch_assessment_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data assess_multi <- fetch_assessment_multi(2022:2024)  # Get all available years years <- get_available_assessment_years()$years all_data <- fetch_assessment_multi(years) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch North Carolina school directory — fetch_directory","title":"Fetch North Carolina school directory — fetch_directory","text":"Downloads processes North Carolina school directory.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch North Carolina school directory — fetch_directory","text":"","code":"fetch_directory(directory_type = \"all\", use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch North Carolina school directory — fetch_directory","text":"directory_type Type directory fetch (\"private_schools\" \"\") use_cache TRUE, use cached data available (default: TRUE)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch North Carolina school directory — fetch_directory","text":"Data frame school directory information","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch North Carolina school directory — fetch_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Get all private schools directory <- fetch_directory()  # Get only private schools private <- fetch_directory(\"private_schools\")  # Filter by county wake_schools <- directory |>   dplyr::filter(county == \"Wake\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch multiple directory types — fetch_directory_multi","title":"Fetch multiple directory types — fetch_directory_multi","text":"Convenience function fetching multiple directory types .","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch multiple directory types — fetch_directory_multi","text":"","code":"fetch_directory_multi(directory_types = c(\"private_schools\"), use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch multiple directory types — fetch_directory_multi","text":"directory_types Character vector directory types fetch use_cache TRUE, use cached data available (default: TRUE)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch multiple directory types — fetch_directory_multi","text":"Data frame combined directory information","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_directory_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch multiple directory types — fetch_directory_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get all available directory types all_directories <- fetch_directory_multi()  # Get specific types schools <- fetch_directory_multi(c(\"private_schools\")) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_district_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Get assessment data for a specific district — fetch_district_assessment","title":"Get assessment data for a specific district — fetch_district_assessment","text":"Convenience function fetch assessment data single district.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_district_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get assessment data for a specific district — fetch_district_assessment","text":"","code":"fetch_district_assessment(end_year, district_id, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_district_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get assessment data for a specific district — fetch_district_assessment","text":"end_year School year end district_id 3-digit district ID (e.g., \"920\" Wake County) tidy TRUE (default), returns tidy format use_cache TRUE (default), uses cached data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_district_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get assessment data for a specific district — fetch_district_assessment","text":"Data frame filtered specified district","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_district_assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get assessment data for a specific district — fetch_district_assessment","text":"","code":"if (FALSE) { # \\dontrun{ # Get Wake County (district 920) assessment data wake_assess <- fetch_district_assessment(2024, \"920\")  # Get Charlotte-Mecklenburg (district 600) data cms_assess <- fetch_district_assessment(2024, \"600\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch North Carolina enrollment data — fetch_enr","title":"Fetch North Carolina enrollment data — fetch_enr","text":"Downloads processes enrollment data North Carolina Department Public Instruction Statistical Profile.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch North Carolina enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch North Carolina enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2006-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download NC DPI.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch North Carolina enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch North Carolina enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to Wake County Schools wake <- enr_2024 |>   dplyr::filter(district_id == \"920\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_school_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Get assessment data for a specific school — fetch_school_assessment","title":"Get assessment data for a specific school — fetch_school_assessment","text":"Convenience function fetch assessment data single school.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_school_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get assessment data for a specific school — fetch_school_assessment","text":"","code":"fetch_school_assessment(end_year, agency_code, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_school_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get assessment data for a specific school — fetch_school_assessment","text":"end_year School year end agency_code Full 6-character agency code (e.g., \"920305\") tidy TRUE (default), returns tidy format use_cache TRUE (default), uses cached data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_school_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get assessment data for a specific school — fetch_school_assessment","text":"Data frame filtered specified school","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/fetch_school_assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get assessment data for a specific school — fetch_school_assessment","text":"","code":"if (FALSE) { # \\dontrun{ # Get a specific school's assessment data school_assess <- fetch_school_assessment(2024, \"920305\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/filter_proficiency.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter assessment data to proficiency results — filter_proficiency","title":"Filter assessment data to proficiency results — filter_proficiency","text":"Filters assessment data include rows CCR (College Career Ready) GLP (Grade Level Proficiency) standards, main proficiency metrics.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/filter_proficiency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter assessment data to proficiency results — filter_proficiency","text":"","code":"filter_proficiency(df, standard = \"CCR\")"},{"path":"https://almartin82.github.io/ncschooldata/reference/filter_proficiency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter assessment data to proficiency results — filter_proficiency","text":"df tidy assessment data frame standard proficiency standard filter: \"CCR\" (default), \"GLP\", \"\"","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/filter_proficiency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter assessment data to proficiency results — filter_proficiency","text":"Filtered data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/filter_proficiency.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter assessment data to proficiency results — filter_proficiency","text":"","code":"if (FALSE) { # \\dontrun{ assess <- fetch_assessment(2024) ccr_only <- filter_proficiency(assess, \"CCR\") } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get assessment cache path — get_assessment_cache_path","title":"Get assessment cache path — get_assessment_cache_path","text":"Get assessment cache path","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get assessment cache path — get_assessment_cache_path","text":"","code":"get_assessment_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get assessment cache path — get_assessment_cache_path","text":"end_year School year end type Cache type (\"assessment_tidy\" \"assessment_raw\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get assessment cache path — get_assessment_cache_path","text":"Path cache file","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_data_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get assessment data URL — get_assessment_data_url","title":"Get assessment data URL — get_assessment_data_url","text":"Returns URL downloading assessment data NC DPI.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_data_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get assessment data URL — get_assessment_data_url","text":"","code":"get_assessment_data_url()"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_assessment_data_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get assessment data URL — get_assessment_data_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_assessment_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available assessment years — get_available_assessment_years","title":"Get available assessment years — get_available_assessment_years","text":"Returns range years assessment data available NC DPI School Report Cards data.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_assessment_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available assessment years — get_available_assessment_years","text":"","code":"get_available_assessment_years()"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_assessment_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available assessment years — get_available_assessment_years","text":"list : years Vector available years note Description data availability","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_assessment_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available assessment years — get_available_assessment_years","text":"","code":"years <- get_available_assessment_years() print(years$years) #>  [1] 2014 2015 2016 2017 2018 2019 2021 2022 2023 2024"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years — get_available_years","title":"Get available years — get_available_years","text":"Returns range years enrollment data available North Carolina Department Public Instruction (NC DPI).","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years — get_available_years","text":"list : min_year First available year (2006) max_year Last available year (2025) description Description data availability","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years — get_available_years","text":"","code":"years <- get_available_years() print(years$min_year) #> [1] 2006 print(years$max_year) #> [1] 2025"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_directory_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the download URL for directory type — get_directory_url","title":"Get the download URL for directory type — get_directory_url","text":"Constructs download URL North Carolina school directory.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_directory_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the download URL for directory type — get_directory_url","text":"","code":"get_directory_url(directory_type = \"all\")"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_directory_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the download URL for directory type — get_directory_url","text":"directory_type Type directory (\"private_schools\", \"\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_directory_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the download URL for directory type — get_directory_url","text":"Character string download URL named list URLs","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw assessment data from NC DPI — get_raw_assessment","title":"Download raw assessment data from NC DPI — get_raw_assessment","text":"Downloads assessment data NC DPI School Report Cards data file. data includes EOG (End--Grade) EOC (End--Course) test results school district (LEA) level.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw assessment data from NC DPI — get_raw_assessment","text":"","code":"get_raw_assessment(end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw assessment data from NC DPI — get_raw_assessment","text":"end_year School year end (e.g., 2024 2023-24 school year). Valid years: 2014-2019, 2021-2024 (2020 due COVID waiver).","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw assessment data from NC DPI — get_raw_assessment","text":"Data frame assessment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw directory data from NCDPI — get_raw_directory","title":"Download raw directory data from NCDPI — get_raw_directory","text":"Downloads North Carolina school directory Excel file(s).","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw directory data from NCDPI — get_raw_directory","text":"","code":"get_raw_directory(directory_type = \"all\")"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw directory data from NCDPI — get_raw_directory","text":"directory_type Type directory (\"private_schools\", \"\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw directory data from NCDPI — get_raw_directory","text":"List raw data frames directory type requested","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from NC DPI — get_raw_enr","title":"Download raw enrollment data from NC DPI — get_raw_enr","text":"Downloads LEA school enrollment data NC DPI's Statistical Profile system.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from NC DPI — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from NC DPI — get_raw_enr","text":"end_year School year end (2023-24 = 2024)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from NC DPI — get_raw_enr","text":"List lea school data frames","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_assessment_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify assessment aggregation levels — id_assessment_aggs","title":"Identify assessment aggregation levels — id_assessment_aggs","text":"Adds boolean flags identify state, district, school level records. called internally tidy_assessment can used separately.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_assessment_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify assessment aggregation levels — id_assessment_aggs","text":"","code":"id_assessment_aggs(df)"},{"path":"https://almartin82.github.io/ncschooldata/reference/id_assessment_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify assessment aggregation levels — id_assessment_aggs","text":"df Assessment dataframe 'level' column","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_assessment_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify assessment aggregation levels — id_assessment_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_assessment_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify assessment aggregation levels — id_assessment_aggs","text":"","code":"if (FALSE) { # \\dontrun{ assess <- fetch_assessment(2024, tidy = FALSE) assess_with_flags <- id_assessment_aggs(assess) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/ncschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"Downloads processes school data North Carolina Department Public Instruction (NC DPI). Provides functions fetching enrollment data Statistical Profile system transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years get_available_years List available school years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"North Carolina uses hierarchical ID system: LEA (District) codes: 3 digits (e.g., 920 = Wake County Schools) School codes: 6 digits (LEA code + 3-digit school number)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"Data sourced : NC DPI Statistical Profile: http://apps.schools.nc.gov/ords/f?p=145:1","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"format-eras","dir":"Reference","previous_headings":"","what":"Format Eras","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"Era 1 (2006-2010) Asian Pacific Islander combined one category Era 2 (2011-present) Seven separate race/ethnicity categories per federal standards","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"known-limitations","dir":"Reference","previous_headings":"","what":"Known Limitations","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"Pre-2011 data combines Asian Pacific Islander one category small cell sizes may suppressed privacy Charter school data availability varies year","code":""},{"path":[]},{"path":"https://almartin82.github.io/ncschooldata/reference/ncschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ncschooldata: Fetch and Process North Carolina School Data — ncschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw NC assessment data — process_assessment","title":"Process raw NC assessment data — process_assessment","text":"Transforms raw data NC DPI standardized schema clear column names identifiers.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw NC assessment data — process_assessment","text":"","code":"process_assessment(raw_data, end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/process_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw NC assessment data — process_assessment","text":"raw_data Data frame get_raw_assessment end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw NC assessment data — process_assessment","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw directory data — process_directory","title":"Process raw directory data — process_directory","text":"Processes raw school directory data standardized format.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw directory data — process_directory","text":"","code":"process_directory(raw_data)"},{"path":"https://almartin82.github.io/ncschooldata/reference/process_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw directory data — process_directory","text":"raw_data List raw data frames get_raw_directory()","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw directory data — process_directory","text":"Data frame standardized columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw NC enrollment data — process_enr","title":"Process raw NC enrollment data — process_enr","text":"Transforms raw data NC DPI standardized schema combining LEA school data.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw NC enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw NC enrollment data — process_enr","text":"raw_data List containing lea school data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw NC enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_lea_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process LEA-level (district) enrollment data — process_lea_enr","title":"Process LEA-level (district) enrollment data — process_lea_enr","text":"Process LEA-level (district) enrollment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_lea_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process LEA-level (district) enrollment data — process_lea_enr","text":"","code":"process_lea_enr(df, end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/process_lea_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process LEA-level (district) enrollment data — process_lea_enr","text":"df Raw LEA data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_lea_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process LEA-level (district) enrollment data — process_lea_enr","text":"Processed LEA data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_school_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process school-level (campus) enrollment data — process_school_enr","title":"Process school-level (campus) enrollment data — process_school_enr","text":"Process school-level (campus) enrollment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_school_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process school-level (campus) enrollment data — process_school_enr","text":"","code":"process_school_enr(df, end_year)"},{"path":"https://almartin82.github.io/ncschooldata/reference/process_school_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process school-level (campus) enrollment data — process_school_enr","text":"df Raw school data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/process_school_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process school-level (campus) enrollment data — process_school_enr","text":"Processed school data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_assessment_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read assessment data from cache — read_assessment_cache","title":"Read assessment data from cache — read_assessment_cache","text":"Read assessment data cache","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_assessment_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read assessment data from cache — read_assessment_cache","text":"","code":"read_assessment_cache(end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/read_assessment_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read assessment data from cache — read_assessment_cache","text":"end_year School year end type Cache type","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_assessment_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read assessment data from cache — read_assessment_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"NC DPI uses various markers suppressed data (*, <, >, etc.) may use commas large numbers.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/ncschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy assessment data — tidy_assessment","title":"Tidy assessment data — tidy_assessment","text":"Adds aggregation flags ensures consistent column ordering analysis-ready assessment data.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy assessment data — tidy_assessment","text":"","code":"tidy_assessment(df)"},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy assessment data — tidy_assessment","text":"df data frame processed assessment data process_assessment","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_assessment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy assessment data — tidy_assessment","text":"data frame aggregation flags cleaned data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy assessment data — tidy_assessment","text":"","code":"if (FALSE) { # \\dontrun{ raw <- get_raw_assessment(2024) processed <- process_assessment(raw, 2024) tidy_data <- tidy_assessment(processed) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/ncschooldata/reference/validate_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate school year — validate_year","title":"Validate school year — validate_year","text":"Validate school year","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/validate_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate school year — validate_year","text":"","code":"validate_year(end_year, min_year = 2006, max_year = 2025)"},{"path":"https://almartin82.github.io/ncschooldata/reference/validate_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate school year — validate_year","text":"end_year School year end min_year Minimum valid year max_year Maximum valid year (currently 2025)","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/validate_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate school year — validate_year","text":"TRUE valid, otherwise throws error","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_assessment_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write assessment data to cache — write_assessment_cache","title":"Write assessment data to cache — write_assessment_cache","text":"Write assessment data cache","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_assessment_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write assessment data to cache — write_assessment_cache","text":"","code":"write_assessment_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/write_assessment_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write assessment data to cache — write_assessment_cache","text":"df Data frame cache end_year School year end type Cache type","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_assessment_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write assessment data to cache — write_assessment_cache","text":"Invisibly returns cache path","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/ncschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ncschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
